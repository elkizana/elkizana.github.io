<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>B&W </title>
    <link rel="stylesheet" href="./css/style.css" type="text/css" />
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />
    
  </head>
  <body id="body">
    <button id="start_button">PLAY</button> 
<script src="https://cdn.jsdelivr.net/npm/discord.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
          const clientId = '1241625823438704703';
          const redirectUri = 'https://elkizana.github.io/';

          function loginWithDiscord() {
              const authUrl = `https://discord.com/api/oauth2/authorize?client_id=${clientId}&redirect_uri=${encodeURIComponent(redirectUri)}&response_type=token&scope=identify`;
              window.location.href = authUrl;
          }

          function handleRedirect() {
              const hash = window.location.hash.substr(1);
              const params = new URLSearchParams(hash);
              const token = params.get('access_token');
              if (token) {
                  fetch('https://discord.com/api/users/@me', {
                      headers: {
                          'Authorization': `Bearer ${token}`
                      }
                  })
                  .then(response => response.json())
                  .then(data => {
                      document.getElementById('username').innerText = data.username;
                  })
                  .catch(error => console.error('Error:', error));
              }
          }

          document.getElementById('login').addEventListener('click', loginWithDiscord);
          handleRedirect();
      });
  </script>
    <button  id="fullscreen-btn" class="js-toggle-fullscreen-btn toggle-fullscreen-btn" aria-label="Enter fullscreen mode" >
      <svg class="toggle-fullscreen-svg" width="28" height="28" viewBox="-2 -2 28 28">
        <g class="icon-fullscreen-enter">
          <path d="M 2 9 v -7 h 7" />
          <path d="M 22 9 v -7 h -7" />
          <path d="M 22 15 v 7 h -7" />
          <path d="M 2 15 v 7 h 7" />
        </g>
        
        <g class="icon-fullscreen-leave">
          <path d="M 24 17 h -7 v 7" />
          <path d="M 0 17 h 7 v 7" />
          <path d="M 0 7 h 7 v -7" />
          <path d="M 24 7 h -7 v -7" />
        </g>
      </svg>
    </button>
	
  
    <div id="container">  </div>

    
    <script>
  const iframe = document.getElementById('body');
  const fullscreenBtn = document.getElementById('fullscreen-btn');

  fullscreenBtn.addEventListener('click', () => {
    if (iframe.requestFullscreen) {
      iframe.requestFullscreen();
    } else if (iframe.mozRequestFullScreen) { /* Firefox */
      iframe.mozRequestFullScreen();
    } else if (iframe.webkitRequestFullscreen) { /* Chrome, Safari & Opera */
      iframe.webkitRequestFullscreen();
    } else if (iframe.msRequestFullscreen) { /* IE/Edge */
      iframe.msRequestFullscreen();
    }
  });

  
  document.addEventListener('keydown', (event) => {
    if (event.key === 'f') {
      fullscreenBtn.click();
    }
  })

</script>
		<script type="module" src="./js/initThree.js">
    </script> 
  </body>
</html>
